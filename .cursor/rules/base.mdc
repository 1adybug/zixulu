---
alwaysApply: true
---

# Base Rules

- æ°¸è¿œä½¿ç”¨ä¸­æ–‡å›å¤
- ç¦æ­¢ä¿®æ”¹ `node_modules` æ–‡ä»¶å¤¹ä¸­çš„ä»»ä½•æ–‡ä»¶
- å½“æˆ‘è®©ä½ ä¿®å¤ä¸€ä¸ªé—®é¢˜ï¼Œè€Œä½ å°è¯•ä¸€æ¬¡æˆ–å¤šæ¬¡ä¿®å¤å¤±è´¥åï¼Œæˆ‘ä¼šåœ¨æ¯æ¬¡å¤±è´¥ä¿®å¤åçš„é—®é¢˜ç°è±¡å†æ¬¡åé¦ˆç»™ä½ ï¼Œåœ¨è¿›è¡Œä¸‹ä¸€æ¬¡ä¿®å¤ä¹‹å‰ï¼Œä½ å¿…é¡»æ€è€ƒä¹‹å‰æ‰€æœ‰çš„ä¿®å¤æ˜¯å¦è¿˜æœ‰å¿…è¦ï¼Œæ˜¯å¦éœ€è¦å…ˆæ’¤å›ä¹‹å‰çš„ä¿®å¤ï¼Œç„¶åå†è¿›è¡Œä¿®å¤
- å°½é‡ä½¿ç”¨ `interface` è€Œä¸æ˜¯ `type`ï¼Œå‡½æ•°ç±»å‹é™¤å¤–
- æ‰€æœ‰çš„ç±»å‹å®šä¹‰éƒ½ä½¿ç”¨ `export` å¯¼å‡º
- å¦‚æœæŸä¸€ä¸ªå±æ€§çš„ç±»å‹æ˜¯ `[key]: someType | null`ï¼Œè¯·å°†å®ƒæ”¹å†™ä¸º `[key]?: someType`ï¼Œå°½é‡ä¸è¦ä½¿ç”¨ `null` ç±»å‹
- ç¦æ­¢ä½¿ç”¨å­—é¢é‡ç±»å‹ï¼Œå¿…é¡»ä½¿ç”¨ç‹¬ç«‹çš„ç±»å‹å®šä¹‰ï¼Œæ¯”å¦‚:

    ```typescript
    export interface Student {
        father: {
            name: string
            age: number
        }
    }
    ```

    ä½ åº”è¯¥å°† `Father` ç±»å‹ç‹¬ç«‹å‡ºæ¥ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å­—é¢é‡ç±»å‹:

    ```typescript
    export interface Father {
        name: string
        age: number
    }

    export interface Student {
        father: Father
    }
    ```

- å°½é‡ä¸ºä»£ç æ·»åŠ æ³¨é‡Šï¼Œå°½é‡ä½¿ç”¨ `//` è€Œä¸æ˜¯ `/** */`
- ä½†æ˜¯å¯¹äºå˜é‡åã€å‡½æ•°åã€ç±»å‹åã€å±æ€§ç­‰å…·æœ‰æ˜ç¡®æ„ä¹‰çš„åç§°ï¼Œä½¿ç”¨ `/** åç§°çš„ä½œç”¨ */` è¿›è¡Œæ³¨é‡Š
- å°½é‡ä½¿ç”¨ `const` è€Œä¸æ˜¯ `let`ï¼Œé™¤ééœ€è¦ä½¿ç”¨ `let` çš„ç‰¹æ€§
- å°½é‡ä½¿ç”¨ `function` è€Œä¸æ˜¯ `() => {}` å£°æ˜å‡½æ•°ï¼Œé™¤éæ˜¯ç›´æ¥ä¼ é€’çš„å›è°ƒå‡½æ•°æˆ–è€… `React` å‡½æ•°å¼ç»„ä»¶
- å°½é‡ä½¿ç”¨ `"` è€Œä¸æ˜¯ `'`ï¼Œé™¤éæ˜¯ `"` ä¸­åŒ…å« `'`
- å°½é‡ä¸è¦ä½¿ç”¨ `;` è¿›è¡Œç»“å°¾
- å°½é‡ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²è€Œä¸æ˜¯ `+` è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥
- ä¸­æ–‡å’Œè‹±æ–‡ä¹‹é—´åŠ ä¸€ä¸ªç©ºæ ¼
- ä¸éœ€è¦ä¸ºç±»å‹æ–‡ä»¶å•ç‹¬ç”Ÿæˆä¸€ä¸ª `types/index.ts` æ–‡ä»¶ï¼Œè€Œæ˜¯ç›´æ¥åœ¨éœ€è¦ä½¿ç”¨çš„åœ°æ–¹è¿›è¡Œç±»å‹å£°æ˜å¹¶ä¸”å¯¼å‡º
- å½“ä½ ä½¿ç”¨ `@heroui/react` ç»„ä»¶åº“ä¸­çš„ `Button` ç»„ä»¶æ—¶ï¼Œç‚¹å‡»äº‹ä»¶è¯·ä½¿ç”¨ `onPress` è€Œä¸æ˜¯ `onClick`
- å½“ä½ ä½¿ç”¨ `@tanstack/react-query` çš„ `useQuery` æ—¶ï¼Œè¯·ä½¿ç”¨å‡½æ•°åçš„çƒ¤è‚‰ä¸²å‘½åæ³•å’Œå‚æ•°ç»„æˆ `key`ï¼Œä¾‹å¦‚ `queryKey: ["query-book", queryParams]`
- å‡½æ•°çš„å‚æ•°æ•°é‡å°½é‡æ§åˆ¶åœ¨ 2 ä¸ªä»¥å†…ï¼Œå¦‚æœè¶…è¿‡ 2 ä¸ªï¼Œè¯·ä½¿ç”¨å¯¹è±¡å½¢å¼çš„å‚æ•°ï¼Œå‚æ•°ç±»å‹åç§°ä½¿ç”¨å‡½æ•°åçš„å¤§é©¼å³° + `Params` åç¼€ï¼Œä¾‹å¦‚ `QueryBookParams`
- å°½é‡ç›´æ¥ä»æ¨¡å—ä¸­å¯¼å…¥æ–¹æ³•ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ `é»˜è®¤å¯¼å‡º.æ–¹æ³•` çš„å½¢å¼

    ```typescript
    // è€Œä¸æ˜¯ä½¿ç”¨ é»˜è®¤å¯¼å‡º.æ–¹æ³• çš„å½¢å¼
    import fs from "fs/promises"

    fs.readFile
    ```

- å¦‚æœæŸä¸ªæ–¹æ³•å­˜åœ¨åŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§å½¢å¼ï¼Œä½ åº”è¯¥å°½é‡ä½¿ç”¨å¼‚æ­¥å½¢å¼ï¼Œè€Œä¸æ˜¯åŒæ­¥å½¢å¼ï¼Œæ¯”å¦‚è¯»å–æ–‡ä»¶ï¼Œä½ åº”è¯¥å°½é‡ä½¿ç”¨ `fs/promises` æä¾›çš„ `readFile` æ–¹æ³•ï¼Œè€Œä¸æ˜¯ `fs` æä¾›çš„ `readFileSync` æ–¹æ³•
- åœ¨ `Node.js` ä¸­ï¼Œä½ åº”è¯¥å°½é‡ä½¿ç”¨æ¨¡å—çš„ `Promise` ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯å›è°ƒç‰ˆæœ¬ï¼Œæ¯”å¦‚è¯»å–æ–‡ä»¶ï¼Œä½ åº”è¯¥å°½é‡ä½¿ç”¨ `fs/promises` æä¾›çš„ `readFile` æ–¹æ³•ï¼Œè€Œä¸æ˜¯ `fs` æä¾›çš„ `readFile` æ–¹æ³•
- æ¶‰åŠåˆ°æ–‡ä»¶è¯»å†™æ“ä½œæ—¶ï¼Œå°½é‡ä½¿ç”¨ `fs` æä¾›çš„ `createReadStream` æˆ–è€… `createWriteStream` çš„æ–¹å¼æ¥å®ç°ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§è¯»å–æ‰€æœ‰å†…å®¹
- `Web API` ä¸­çš„ `ReadableStream` å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è½¬æ¢ä¸º `Node.js` ä¸­çš„ `Readable`:

    ```typescript
    import { Readable } from "stream"
    import { ReadableStream } from "stream/web"

    // è¿™é‡Œçš„ webStream æ˜¯ Web API ä¸­çš„ ReadableStream
    const webStream = someWebApi()

    // å°† Web API ä¸­çš„ ReadableStream è½¬æ¢ä¸º Node.js ä¸­çš„ Readable
    const nodeStream = Readable.fromWeb(webStream as ReadableStream)
    ```

    `Web API` ä¸­çš„ `WritableStream` è½¬æ¢ä¸º `Node.js` ä¸­çš„ `Writable` çš„æ–¹æ³•åŒç†

- `zod/v4` å°±æ˜¯ `zod` åœ¨ `3.25` åŠä¹‹åçš„ `v3` ç‰ˆæœ¬ä¸­æ‰€æä¾›çš„ `v4` ç‰ˆæœ¬çš„ `zod`ï¼Œå¦‚æœå½“å‰é¡¹ç›®çš„ç‰ˆæœ¬æ˜¯ `3.25` åŠä¹‹åçš„ `v3` ç‰ˆæœ¬ï¼Œä½ åº”è¯¥ä½¿ç”¨ `zod/v4` è€Œä¸æ˜¯ `zod`ï¼Œå¦‚æœå½“å‰é¡¹ç›®ä½¿ç”¨çš„å°±æ˜¯ `zod/v4`ï¼Œé‚£ä½ ä¸éœ€è¦æ£€æŸ¥ `zod` çš„ç‰ˆæœ¬ï¼Œä¿æŒä¸€è‡´ï¼Œä½¿ç”¨ `zod/v4` å³å¯
- ä¸¥æ ¼åŒºåˆ†ä¸­è‹±æ–‡æ ‡ç‚¹ç¬¦å·ï¼Œä¸è¦æ··ç”¨ï¼Œå¦‚æœç”¨æˆ·æ··ç”¨äº†ï¼Œä½ åº”è¯¥æç¤ºç”¨æˆ·ä½¿ç”¨æ­£ç¡®çš„æ ‡ç‚¹ç¬¦å·
- å½“ä½¿ç”¨ç½‘ç»œè¯·æ±‚æ—¶ï¼Œè¯·ä½¿ç”¨ `@/utils/request` ä¸­çš„ `request` æ–¹æ³•ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ `fetch` æ–¹æ³•ï¼Œ`request` æ–¹æ³•ä¸ `fetch` çš„è°ƒç”¨æ–¹æ³•åŸºæœ¬ä¸€è‡´
- å½“ä½ éœ€è¦è¿›è¡ŒåŒ…ç®¡ç†ç›¸å…³çš„æ“ä½œæ—¶ï¼Œæ¯”å¦‚å®‰è£…ã€æ›´æ–°ã€å¸è½½ã€æ‰§è¡Œ `package.json` ä¸­çš„è„šæœ¬æˆ–è€… `npx` æ‰§è¡ŒæŸä¸ªå‘½ä»¤æ—¶ï¼Œè¯·æ£€æŸ¥å½“å‰é¡¹ç›®ä¸­çš„ `lock` æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ `bun.lock`ï¼Œä½ åº”è¯¥ä½¿ç”¨ `bun` è¿›è¡ŒåŒ…ç®¡ç†ï¼Œå¦‚æœæ˜¯ `package-lock.json`ï¼Œä½ åº”è¯¥ä½¿ç”¨ `npm` è¿›è¡ŒåŒ…ç®¡ç†ï¼Œå¦‚æœæ˜¯ `yarn.lock`ï¼Œä½ åº”è¯¥ä½¿ç”¨ `yarn` è¿›è¡ŒåŒ…ç®¡ç†ï¼Œå¦‚æœæ˜¯ `pnpm-lock.yaml`ï¼Œä½ åº”è¯¥ä½¿ç”¨ `pnpm` è¿›è¡ŒåŒ…ç®¡ç†ï¼Œå¦‚æœåŒæ—¶å­˜åœ¨å¤šä¸ª `lock` æ–‡ä»¶ï¼Œä¼˜å…ˆçº§ä¸º `bun` > `pnpm` > `yarn` > `npm`
- è¯·ä¸è¦ä½¿ç”¨ `enum` æ¥å£°æ˜æšä¸¾ï¼Œè€Œæ˜¯ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å£°æ˜ï¼š

    ```typescript
    export const Gender = {
        ç”·: "male",
        å¥³: "female",
    } as const

    export type Gender = (typeof Gender)[keyof typeof Gender]
    ```

- åœ¨åˆ›å»º `git` æäº¤è®°å½•ï¼Œå¿…é¡»ä½¿ç”¨ `[emoji] [type]: å…·ä½“å†…å®¹`çš„æ ¼å¼è¿›è¡Œæäº¤ï¼Œå…·ä½“å†…å®¹ä½¿ç”¨ä¸­æ–‡ï¼Œä»¥ä¸‹æ˜¯é¢„è®¾çš„ `emoji` å’Œ `type`ï¼š

    ```text
    âœ¨ feature: Select when creating new things
    ğŸ fix: Select when fixing a bug
    ğŸ“ docs: Select when editing documentation
    ğŸ’» wip: Select when work is not finished
    ğŸš„ perfs: Select when working on performances
    âª rollback:Select when undoing something
    ğŸ”µ other: Select when fixing a bug
    ```

    ä½ å¿…é¡»ä½¿ç”¨é¢„è®¾çš„ `emoji` å’Œ `type`ã€‚å¦‚æœä½ çš„æäº¤è®°å½•åŒ…å«äº†å¤šç§å†…å®¹ï¼Œä½ å¯ä»¥ä½¿ç”¨å¤šè¡Œæ¯”å¦‚ï¼š

    ```text
    âœ¨ feature: some feature u did
    ğŸ fix: some bug u fixed
    ```
